(()=>{"use strict";class t{static allprojects=[];constructor(e,o){this.name=e,this.todos=o,t.allprojects.push(this)}static getProjectsFromLocalStorage(){t.allprojects=JSON.parse(localStorage.getItem("items")||"[]")}static findProject(e){return t.allprojects.find((t=>t.name==e))}getName(){return this.name}setName(t){this.name=t}getTodos(){return this.todos}addTodo(t){this.todos.push(t)}}class e{static Alltodos=[];constructor(t){this.name=t,e.Alltodos.push(this)}static getTasksFromLocalStorage(){0!=t.allprojects.length&&null!=t.allprojects&&t.allprojects.forEach((t=>{0!=t.todos.length&&t.todos.forEach((t=>{e.Alltodos.push(t)}))}))}setName(t){this.name=t}getName(){return this.name}static findtodo(t){return e.Alltodos.find((e=>e.name==t))}}let o;function n(){localStorage.setItem("items",JSON.stringify(t.allprojects))}function c(){const t=document.querySelector("#add-task-div-button");document.querySelector(".task-buttons").style.display="none",t.style.display="block"}function r(t){const e=document.querySelector(".tasks");e.innerHTML=`<h2>${t.name}</h2>`,t.todos.forEach((t=>{!function(t,e){const o=document.createElement("div");o.classList.add("task"),o.innerHTML=`<span class="custom-check"></span><p class="taskname">${t.name}</p></div>`,e.appendChild(o)}(t,e)}))}function s(){document.querySelector("div.project").innerHTML="<li><h2>Projects</h2></li>",t.allprojects.forEach((t=>{!function(t){const e=document.querySelector("div.project"),o=document.createElement("div");o.classList.add("project-header-div"),o.innerHTML=`<li class="project-header">${t.name}</li>\n    <button class="btn-delete-project"><i class="fa-solid fa-trash"></i></button>`,e.appendChild(o)}(t)}))}t.getProjectsFromLocalStorage(),e.getTasksFromLocalStorage(),0==t.allprojects.length?function(){let e=new t("default",[]);o=e}():o=t.allprojects[0],s(),r(o),document.querySelector("#add-project").addEventListener("click",(function(e){e.preventDefault();const c=document.querySelector("#add-project-input").value;if(null==c||""==c)return;if(t.findProject(c))return alert("choose different name"),void document.querySelector("#add-project-form").reset();const a=new t(c,[]);n(),s(),o=a,r(a),document.querySelector("#add-project-form").reset()})),function(){const t=document.querySelector("#add-task-div-button");t.addEventListener("click",(function(){document.querySelector(".task-buttons").style.display="block",t.style.display="none"}))}(),document.querySelector("#add-task").addEventListener("click",(function(t){t.preventDefault();const s=document.querySelector("#add-task-input").value;if(""==s||null==s)return;if(o.todos.find((t=>t.name==s)))return alert("please add unique tasks!"),void document.querySelector("#add-task-form").reset();const a=new e(s);o.todos.push(a),r(o),n(),document.querySelector("#add-task-form").reset(),c()})),document.querySelector("#cancel").addEventListener("click",c),document.querySelector("div.project").addEventListener("click",(function(e){if("li"==e.target.tagName.toLowerCase()){const n=e.target.textContent,c=t.findProject(n);null!=c&&(o=c,r(c))}})),document.querySelector("div.project").addEventListener("click",(function(e){if("i"==e.target.tagName.toLowerCase()){const c=e.target.parentNode.parentNode.textContent.toString().trim();let a=t.findProject(c);const l=t.allprojects.indexOf(a);if(0==l)return;t.allprojects.splice(l,1),o==a&&(o=t.allprojects[0]),a=null,n(),s(),r(o)}})),document.querySelector(".tasks").addEventListener("click",(function(t){if("span"==t.target.tagName.toLowerCase()){const c=t.target.parentNode.textContent;e.findtodo(c);const s=o,a=s.todos.indexOf(s);s.todos.splice(a,1),r(s),n()}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxXQUFXRixZQUFZRyxXQUFXQyxPQUMzRSxJQUFJckMsRUFBY3BDLEVBQVEyRCxZQUFZVyxHQUN0QyxNQUFNSSxFQUFRMUUsRUFBUU0sWUFBWXFFLFFBQVF2QyxHQUMxQyxHQUFZLEdBQVRzQyxFQUVDLE9BRUoxRSxFQUFRTSxZQUFZc0UsT0FBT0YsRUFBTSxHQUM5QmhELEdBQW1CVSxJQUVsQlYsRUFBZ0IxQixFQUFRTSxZQUFZLElBRXhDOEIsRUFBWSxLQUNaVCxJQUNBbUIsSUFDQVgsRUFBWVQsT0FyQ0ZNLFNBQVNDLGNBQWMsVUFDL0JzQixpQkFBaUIsU0FBUSxTQUFTQyxHQUV4QyxHQUFxQyxRQUFsQ0EsRUFBRVUsT0FBT0MsUUFBUUMsY0FDcEIsQ0FDSSxNQUFNSixFQUFZUixFQUFFVSxPQUFPSyxXQUFXRixZQUNyQmxELEVBQUswRCxTQUFTYixHQUMvQixNQUFNNUIsRUFBY1YsRUFDZGdELEVBQVF0QyxFQUFZaEMsTUFBTXVFLFFBQVF2QyxHQUN4Q0EsRUFBWWhDLE1BQU13RSxPQUFPRixFQUFNLEdBQy9CdkMsRUFBWUMsR0FDWlQsUyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvZG9tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIHByb2plY3RcbntcbiAgICBzdGF0aWMgYWxscHJvamVjdHMgPSBbXTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLHRvZG9zKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lPW5hbWU7XG4gICAgICAgIHRoaXMudG9kb3M9dG9kb3M7XG4gICAgICAgIHByb2plY3QuYWxscHJvamVjdHMucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFByb2plY3RzRnJvbUxvY2FsU3RvcmFnZSgpXG4gICAge1xuICAgICAgICBwcm9qZWN0LmFsbHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIml0ZW1zXCIpIHx8IFwiW11cIik7XG4gICAgfVxuICAgIHN0YXRpYyBmaW5kUHJvamVjdChwcm9qZWN0bmFtZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0LmFsbHByb2plY3RzLmZpbmQoZWxlbWVudD0+ZWxlbWVudC5uYW1lID09IHByb2plY3RuYW1lKTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSlcbiAgICB7XG4gICAgICAgIHRoaXMubmFtZT1uYW1lO1xuICAgIH1cblxuICAgIGdldFRvZG9zKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvZG9zO1xuICAgIH1cbiAgICBcbiAgICBhZGRUb2RvKHRvZG8pXG4gICAge1xuICAgICAgICB0aGlzLnRvZG9zLnB1c2godG9kbyk7XG4gICAgfVxufVxuXG5leHBvcnR7IHByb2plY3R9IiwiaW1wb3J0IHsgcHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmNsYXNzIHRvZG9cbnsgICBzdGF0aWMgQWxsdG9kb3M9W107XG4gICAgXG4gICAgY29uc3RydWN0b3IobmFtZSlcbiAgICB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5hbWU9bmFtZTtcbiAgICAgICAgdG9kby5BbGx0b2Rvcy5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0VGFza3NGcm9tTG9jYWxTdG9yYWdlKClcbiAgICB7XG4gICAgICAgIGlmKCBwcm9qZWN0LmFsbHByb2plY3RzLmxlbmd0aCAhPSAwICYmIHByb2plY3QuYWxscHJvamVjdHMgIT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgICAgIHByb2plY3QuYWxscHJvamVjdHMuZm9yRWFjaChwcm8gPT4ge1xuICAgICAgICAgICAgICAgaWYocHJvLnRvZG9zLmxlbmd0aCAhPSAwKVxuICAgICAgICAgICAgICAge3Byby50b2Rvcy5mb3JFYWNoKHRvZG9zPT57XG4gICAgICAgICAgICAgICAgdG9kby5BbGx0b2Rvcy5wdXNoKHRvZG9zKTtcblxuICAgICAgICAgICAgfSl9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB9XG4gICAgc2V0TmFtZShuYW1lKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lPW5hbWU7XG4gICAgfVxuICAgIGdldE5hbWUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgc3RhdGljIGZpbmR0b2RvKHRvZG9uYW1lKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRvZG8uQWxsdG9kb3MuZmluZChlbGVtZW50PT5lbGVtZW50Lm5hbWUgPT0gdG9kb25hbWUpO1xuICAgIH1cbn1cblxuZXhwb3J0e3RvZG99OyIsImltcG9ydCB7IHRvZG8gfSBmcm9tIFwiLi90b2Rvc1wiO1xuaW1wb3J0IHsgcHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmxldCBjdXJyZW50X3Byb2plY3Q7XG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0KClcbntcbmxldCBkZWZhdWx0X3Byb2plY3QgPSBuZXcgcHJvamVjdCgnZGVmYXVsdCcsW10pO1xuIGN1cnJlbnRfcHJvamVjdCA9IGRlZmF1bHRfcHJvamVjdDtcbn1cbmZ1bmN0aW9uIGludGVyYWN0V2l0aERvbSgpXG57XG4gICAgcHJvamVjdC5nZXRQcm9qZWN0c0Zyb21Mb2NhbFN0b3JhZ2UoKTtcbiAgICB0b2RvLmdldFRhc2tzRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgIGlmKHByb2plY3QuYWxscHJvamVjdHMubGVuZ3RoID09IDApXG4gICAgIHtcbiAgICAgICAgIGNyZWF0ZURlZmF1bHQoKTtcbiAgICAgfVxuICAgIGVsc2VcbiAgICBjdXJyZW50X3Byb2plY3QgPSBwcm9qZWN0LmFsbHByb2plY3RzWzBdO1xuICAgIHJlbmRlcl9wcm9qZWN0cygpO1xuICAgIHJlbmRlcl90YXNrKGN1cnJlbnRfcHJvamVjdCk7XG4gICAgYWRkTGlzdGVuZXJzVG9FbGVtZW50cygpO1xufVxuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcnNUb0VsZW1lbnRzKClcbntcbiAgICBhZGRMaXN0ZW5lclRvUHJvamVjdENyZWF0ZSgpO1xuICAgIGFkZExpc3RlbmVyVG9BZGRUYXNrc0RpdigpO1xuICAgIGFkZExpc3RlbmVyVG9BZGRUYXNrc0FuZENhbmNlbCgpO1xuICAgIGFkZExpc3RlbmVyVG9Qcm9qZWN0SGVhZGVycygpO1xuICAgIGFkZExpc3RlbmVyVG9Qcm9qZWN0RGVsZXRlKCk7XG4gICAgYWRkTGlzdGVuZXJUb1Rhc2tEZWxldGUoKTtcbiAgICBcbn1cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsU3RvcmFnZSgpXG57XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdC5hbGxwcm9qZWN0cykpO1xufVxuZnVuY3Rpb24gYWRkTGlzdGVuZXJUb1Rhc2tEZWxldGUoKVxue1xuICAgIGNvbnN0IHRhc2tzX2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xuICAgIHRhc2tzX2Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZSlcbiAgICB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnc3BhbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tfbmFtZSA9IGUudGFyZ2V0LnBhcmVudE5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBsZXQgdG9kb19vYmplY3QgPXRvZG8uZmluZHRvZG8odGFza19uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rfb2JqID0gY3VycmVudF9wcm9qZWN0O1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcm9qZWN0X29iai50b2Rvcy5pbmRleE9mKHByb2plY3Rfb2JqKTtcbiAgICAgICAgICAgIHByb2plY3Rfb2JqLnRvZG9zLnNwbGljZShpbmRleCwxKTtcbiAgICAgICAgICAgIHJlbmRlcl90YXNrKHByb2plY3Rfb2JqKTsgXG4gICAgICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfVxuICAgIH0pXG59XG5mdW5jdGlvbiBhZGRMaXN0ZW5lclRvUHJvamVjdERlbGV0ZSgpXG57XG4gICAgY29uc3QgcHJvamVjdGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5wcm9qZWN0Jyk7XG4gICAgcHJvamVjdGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZSlcbiAgICB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnaScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RfbmFtZSA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS50ZXh0Q29udGVudC50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0X29iaiA9IHByb2plY3QuZmluZFByb2plY3QocHJvamVjdF9uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJvamVjdC5hbGxwcm9qZWN0cy5pbmRleE9mKHByb2plY3Rfb2JqKTtcbiAgICAgICAgICAgIGlmKGluZGV4ID09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvamVjdC5hbGxwcm9qZWN0cy5zcGxpY2UoaW5kZXgsMSk7XG4gICAgICAgICAgICBpZihjdXJyZW50X3Byb2plY3QgPT0gcHJvamVjdF9vYmopXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudF9wcm9qZWN0PXByb2plY3QuYWxscHJvamVjdHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9qZWN0X29iaj1udWxsO1xuICAgICAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgICAgICByZW5kZXJfcHJvamVjdHMoKTtcbiAgICAgICAgICAgIHJlbmRlcl90YXNrKGN1cnJlbnRfcHJvamVjdCk7XG4gICAgICAgIH1cbiAgICB9KVxuXG59XG5mdW5jdGlvbiBhZGRMaXN0ZW5lclRvUHJvamVjdEhlYWRlcnMoKVxue1xuICAgIGNvbnN0IHByb2plY3RkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucHJvamVjdCcpO1xuICAgIHByb2plY3RkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snICxmdW5jdGlvbihlKVxuICAgIHtcbiAgICAgICAgaWYoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdsaScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RuYW1lID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0X29iaiA9IHByb2plY3QuZmluZFByb2plY3QocHJvamVjdG5hbWUpO1xuICAgICAgICAgICAgaWYocHJvamVjdF9vYmogIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJvamVjdD1wcm9qZWN0X29iajtcbiAgICAgICAgICAgICAgICByZW5kZXJfdGFzayhwcm9qZWN0X29iailcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSkgICBcbn1cbmZ1bmN0aW9uIGFkZExpc3RlbmVyVG9BZGRUYXNrc0RpdigpXG57XG4gICAgY29uc3QgYWRkdGFza3NidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2stZGl2LWJ1dHRvbicpO1xuICAgIGFkZHRhc2tzYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbigpe1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1idXR0b25zJykuc3R5bGVbJ2Rpc3BsYXknXT0nYmxvY2snO1xuICAgICAgICBhZGR0YXNrc2J1dHRvbi5zdHlsZVsnZGlzcGxheSddPSdub25lJztcbiAgICB9KVxufVxuZnVuY3Rpb24gYWRkTGlzdGVuZXJUb0FkZFRhc2tzQW5kQ2FuY2VsKClcbntcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsYWRkVGFzaylcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGNhbmNlbFRhc2spXG59XG5mdW5jdGlvbiBhZGRUYXNrKGUpXG57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhc2tfbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzay1pbnB1dCcpLnZhbHVlO1xuICAgIGlmICh0YXNrX25hbWUgPT0gJycgfHwgdGFza19uYW1lID09IG51bGwpXG4gICAgcmV0dXJuO1xuICAgIGlmKGN1cnJlbnRfcHJvamVjdC50b2Rvcy5maW5kKGVsZW1lbnQ9PmVsZW1lbnQubmFtZSA9PSB0YXNrX25hbWUpKVxuICAgIHtcbiAgICAgICAgYWxlcnQoJ3BsZWFzZSBhZGQgdW5pcXVlIHRhc2tzIScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2stZm9ybScpLnJlc2V0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmV3X3Rhc2sgPSBuZXcgdG9kbyh0YXNrX25hbWUpO1xuICAgIGN1cnJlbnRfcHJvamVjdC50b2Rvcy5wdXNoKG5ld190YXNrKTtcbiAgICByZW5kZXJfdGFzayhjdXJyZW50X3Byb2plY3QpO1xuICAgIHVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzay1mb3JtJykucmVzZXQoKTtcbiAgICBjYW5jZWxUYXNrKCk7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFRhc2soKVxue1xuICAgIGNvbnN0IGFkZHRhc2tzYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrLWRpdi1idXR0b24nKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1idXR0b25zJykuc3R5bGVbJ2Rpc3BsYXknXT0nbm9uZSc7XG4gICAgYWRkdGFza3NidXR0b24uc3R5bGVbJ2Rpc3BsYXknXT0nYmxvY2snO1xuXG59XG5mdW5jdGlvbiBhZGRMaXN0ZW5lclRvUHJvamVjdENyZWF0ZSgpXG57XG4gICAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtcHJvamVjdCcpO1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGUpXG4gICAge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXByb2plY3QtaW5wdXQnKS52YWx1ZTtcbiAgICAgICAgaWYobmFtZSA9PSBudWxsIHx8IG5hbWUgPT0gJycpXG4gICAgICAgIHJldHVybjtcbiAgICAgICAgaWYocHJvamVjdC5maW5kUHJvamVjdChuYW1lKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYWxlcnQoJ2Nob29zZSBkaWZmZXJlbnQgbmFtZScpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1wcm9qZWN0LWZvcm0nKS5yZXNldCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3X3Byb2plY3QgPSBuZXcgcHJvamVjdChuYW1lLFtdKTtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIHJlbmRlcl9wcm9qZWN0cygpO1xuICAgICAgICBjdXJyZW50X3Byb2plY3Q9bmV3X3Byb2plY3Q7XG4gICAgICAgIHJlbmRlcl90YXNrKG5ld19wcm9qZWN0KTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1wcm9qZWN0LWZvcm0nKS5yZXNldCgpO1xuICAgIH0pXG59XG5mdW5jdGlvbiByZW5kZXJfdGFzayhwcm9qZWN0X29iailcbntcbiAgICBjb25zdCB0YXNrc19kaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcbiAgICB0YXNrc19kaXYuaW5uZXJIVE1MPWA8aDI+JHtwcm9qZWN0X29iai5uYW1lfTwvaDI+YFxuICAgIHByb2plY3Rfb2JqLnRvZG9zLmZvckVhY2goKHRvZG8pPT57XG4gICAgICAgIGFkZHRvZG9Ub0RvbSh0b2RvLHRhc2tzX2RpdilcbiAgICB9KVxufSAgXG5mdW5jdGlvbiBhZGR0b2RvVG9Eb20odG9kbyxwYXJlbnRkaXYpXG57XG4gICAgY29uc3QgdGFza19kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YXNrX2Rpdi5jbGFzc0xpc3QuYWRkKCd0YXNrJyk7XG4gICAgdGFza19kaXYuaW5uZXJIVE1MPWA8c3BhbiBjbGFzcz1cImN1c3RvbS1jaGVja1wiPjwvc3Bhbj48cCBjbGFzcz1cInRhc2tuYW1lXCI+JHt0b2RvLm5hbWV9PC9wPjwvZGl2PmBcbiAgICBwYXJlbnRkaXYuYXBwZW5kQ2hpbGQodGFza19kaXYpO1xufVxuZnVuY3Rpb24gcmVuZGVyX3Byb2plY3RzKClcbntcbiAgICBjb25zdCBwcm9qZWN0ZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnByb2plY3QnKTtcbiAgICBwcm9qZWN0ZGl2LmlubmVySFRNTD1cIjxsaT48aDI+UHJvamVjdHM8L2gyPjwvbGk+XCI7XG4gICAgcHJvamVjdC5hbGxwcm9qZWN0cy5mb3JFYWNoKHByb2plY3Q9PntcbiAgICBcbiAgICAgICAgYWRkUHJvamVjdFRvRG9tKHByb2plY3QpO1xuICAgICAgIFxuICAgfSlcbn1cbmZ1bmN0aW9uIGFkZFByb2plY3RUb0RvbShuZXdwcm9qZWN0KVxue1xuICAgIGNvbnN0IHByb2plY3RkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucHJvamVjdCcpO1xuICAgIGNvbnN0IG5ld19kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuZXdfZGl2LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtaGVhZGVyLWRpdicpO1xuICAgIG5ld19kaXYuaW5uZXJIVE1MPWA8bGkgY2xhc3M9XCJwcm9qZWN0LWhlYWRlclwiPiR7bmV3cHJvamVjdC5uYW1lfTwvbGk+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1kZWxldGUtcHJvamVjdFwiPjxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2hcIj48L2k+PC9idXR0b24+YDtcbiAgICBwcm9qZWN0ZGl2LmFwcGVuZENoaWxkKG5ld19kaXYpO1xufVxuXG5leHBvcnQge2ludGVyYWN0V2l0aERvbX0iXSwibmFtZXMiOlsicHJvamVjdCIsInN0YXRpYyIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRvZG9zIiwidGhpcyIsImFsbHByb2plY3RzIiwicHVzaCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwcm9qZWN0bmFtZSIsImZpbmQiLCJlbGVtZW50IiwiZ2V0TmFtZSIsInNldE5hbWUiLCJnZXRUb2RvcyIsImFkZFRvZG8iLCJ0b2RvIiwiQWxsdG9kb3MiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwicHJvIiwidG9kb25hbWUiLCJjdXJyZW50X3Byb2plY3QiLCJ1cGRhdGVMb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiY2FuY2VsVGFzayIsImFkZHRhc2tzYnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJyZW5kZXJfdGFzayIsInByb2plY3Rfb2JqIiwidGFza3NfZGl2IiwiaW5uZXJIVE1MIiwicGFyZW50ZGl2IiwidGFza19kaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJhZGR0b2RvVG9Eb20iLCJyZW5kZXJfcHJvamVjdHMiLCJuZXdwcm9qZWN0IiwicHJvamVjdGRpdiIsIm5ld19kaXYiLCJhZGRQcm9qZWN0VG9Eb20iLCJnZXRQcm9qZWN0c0Zyb21Mb2NhbFN0b3JhZ2UiLCJnZXRUYXNrc0Zyb21Mb2NhbFN0b3JhZ2UiLCJkZWZhdWx0X3Byb2plY3QiLCJjcmVhdGVEZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInZhbHVlIiwiZmluZFByb2plY3QiLCJhbGVydCIsInJlc2V0IiwibmV3X3Byb2plY3QiLCJhZGRMaXN0ZW5lclRvQWRkVGFza3NEaXYiLCJ0YXNrX25hbWUiLCJuZXdfdGFzayIsInRhcmdldCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInRleHRDb250ZW50IiwicHJvamVjdF9uYW1lIiwicGFyZW50Tm9kZSIsInRvU3RyaW5nIiwidHJpbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZpbmR0b2RvIl0sInNvdXJjZVJvb3QiOiIifQ==