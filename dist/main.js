(()=>{"use strict";class t{static Alltodos=[];constructor(e,n){this.project=e,this.name=n,t.Alltodos.push(this)}setName(t){this.name=t}getName(){return this.name}static findtodo(e){return t.Alltodos.find((t=>t.name==e))}}class e{static allprojects=[];display="false";constructor(t,n){this.name=t,this.todos=n,e.allprojects.push(this)}static findProject(t){return e.allprojects.find((e=>e.name==t))}getName(){return this.name}setName(t){this.name=t}getTodos(){return this.todos}addTodo(t){this.todos.push(t)}}const n=new e("Default",[]),o=new t(n,"funtask"),c=new t(n,"notsofuntask");n.addTodo(o),n.addTodo(c);let s=n;function r(){const t=document.querySelector("#add-task-div-button");document.querySelector(".task-buttons").style.display="none",t.style.display="block"}function a(t){const e=document.querySelector(".tasks");e.innerHTML=`<h2>${t.name}</h2>`,t.todos.forEach((t=>{!function(t,e){const n=document.createElement("div");n.classList.add("task"),n.innerHTML=`<span class="custom-check"></span><p class="taskname">${t.name}</p></div>`,e.appendChild(n)}(t,e)}))}function d(){document.querySelector("div.project").innerHTML="<li><h2>Projects</h2></li>",e.allprojects.forEach((t=>{!function(t){const e=document.querySelector("div.project"),n=document.createElement("div");n.classList.add("project-header-div"),n.innerHTML=`<li class="project-header">${t.name}</li>\n    <button class="btn-delete-project"><i class="fa-solid fa-trash"></i></button>`,e.appendChild(n)}(t)}))}d(),a(n),document.querySelector("#add-project").addEventListener("click",(function(t){t.preventDefault();const n=document.querySelector("#add-project-input").value;if(null==n||""==n)return;const o=new e(n,[]);d(),s=o,a(o),document.querySelector("#add-project-form").reset()})),function(){const t=document.querySelector("#add-task-div-button");t.addEventListener("click",(function(){document.querySelector(".task-buttons").style.display="block",t.style.display="none"}))}(),document.querySelector("#add-task").addEventListener("click",(function(e){e.preventDefault();const n=document.querySelector("#add-task-input").value;if(""==n||null==n)return;const o=new t(s,n);s.addTodo(o),a(s),document.querySelector("#add-task-form").reset(),r()})),document.querySelector("#cancel").addEventListener("click",r),document.querySelector("div.project").addEventListener("click",(function(t){if("li"==t.target.tagName.toLowerCase()){const n=t.target.textContent,o=e.findProject(n);null!=o&&(s=o,a(o))}})),document.querySelector("div.project").addEventListener("click",(function(t){if("i"==t.target.tagName.toLowerCase()){const n=t.target.parentNode.parentNode.textContent.toString().trim();let o=e.findProject(n);const c=e.allprojects.indexOf(o);if(0==c)return;e.allprojects.splice(c,1),s==o&&(s=e.allprojects[0]),o=null,d(),a(s)}})),document.querySelector(".tasks").addEventListener("click",(function(e){if("span"==e.target.tagName.toLowerCase()){const n=e.target.parentNode.textContent,o=t.findtodo(n).project,c=o.todos.indexOf(o);o.todos.splice(c,1),a(o)}}))})();