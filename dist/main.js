(()=>{"use strict";class t{static allprojects=[];constructor(e,o){this.name=e,this.todos=o,t.allprojects.push(this)}static getProjectsFromLocalStorage(){t.allprojects=JSON.parse(localStorage.getItem("items")||"[]")}static findProject(e){return t.allprojects.find((t=>t.name==e))}getName(){return this.name}setName(t){this.name=t}getTodos(){return this.todos}addTodo(t){this.todos.push(t)}}class e{static Alltodos=[];constructor(t){this.name=t,e.Alltodos.push(this)}static getTasksFromLocalStorage(){0!=t.allprojects.length&&null!=t.allprojects&&t.allprojects.forEach((t=>{0!=t.todos.length&&t.todos.forEach((t=>{e.Alltodos.push(t)}))}))}setName(t){this.name=t}getName(){return this.name}static findtodo(t){return e.Alltodos.find((e=>e.name==t))}}let o;function n(){localStorage.setItem("items",JSON.stringify(t.allprojects))}function c(){const t=document.querySelector("#add-task-div-button");document.querySelector(".task-buttons").style.display="none",t.style.display="block"}function r(t){const e=document.querySelector(".tasks");e.innerHTML=`<h2>${t.name}</h2>`,t.todos.forEach((t=>{!function(t,e){const o=document.createElement("div");o.classList.add("task"),o.innerHTML=`<span class="custom-check"></span><p class="taskname">${t.name}</p></div>`,e.appendChild(o)}(t,e)}))}function s(){document.querySelector("div.project").innerHTML="<li><h2>Projects</h2></li>",t.allprojects.forEach((t=>{!function(t){const e=document.querySelector("div.project"),o=document.createElement("div");o.classList.add("project-header-div"),o.innerHTML=`<li class="project-header">${t.name}</li>\n    <button class="btn-delete-project"><i class="fa-solid fa-trash"></i></button>`,e.appendChild(o)}(t)}))}t.getProjectsFromLocalStorage(),e.getTasksFromLocalStorage(),0==t.allprojects.length?function(){let e=new t("default",[]);o=e}():o=t.allprojects[0],s(),r(o),document.querySelector("#add-project").addEventListener("click",(function(e){e.preventDefault();const c=document.querySelector("#add-project-input").value;if(null==c||""==c)return;if(t.findProject(c))return alert("choose different name"),void document.querySelector("#add-project-form").reset();const a=new t(c,[]);n(),s(),o=a,r(a),document.querySelector("#add-project-form").reset()})),function(){const t=document.querySelector("#add-task-div-button");t.addEventListener("click",(function(){document.querySelector(".task-buttons").style.display="block",t.style.display="none"}))}(),document.querySelector("#add-task").addEventListener("click",(function(t){t.preventDefault();const s=document.querySelector("#add-task-input").value;if(""==s||null==s)return;const a=new e(s);o.todos.push(a),r(o),n(),document.querySelector("#add-task-form").reset(),c()})),document.querySelector("#cancel").addEventListener("click",c),document.querySelector("div.project").addEventListener("click",(function(e){if("li"==e.target.tagName.toLowerCase()){const n=e.target.textContent,c=t.findProject(n);null!=c&&(o=c,r(c))}})),document.querySelector("div.project").addEventListener("click",(function(e){if("i"==e.target.tagName.toLowerCase()){const c=e.target.parentNode.parentNode.textContent.toString().trim();let a=t.findProject(c);const l=t.allprojects.indexOf(a);if(0==l)return;t.allprojects.splice(l,1),o==a&&(o=t.allprojects[0]),a=null,n(),s(),r(o)}})),document.querySelector(".tasks").addEventListener("click",(function(t){if("span"==t.target.tagName.toLowerCase()){const c=t.target.parentNode.textContent;e.findtodo(c);const s=o,a=s.todos.indexOf(s);s.todos.splice(a,1),r(s),n()}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBWSxHQUFUc0MsRUFFQyxPQUVKMUUsRUFBUU0sWUFBWXNFLE9BQU9GLEVBQU0sR0FDOUJoRCxHQUFtQlUsSUFFbEJWLEVBQWdCMUIsRUFBUU0sWUFBWSxJQUV4QzhCLEVBQVksS0FDWlQsSUFDQW1CLElBQ0FYLEVBQVlULE9BckNGTSxTQUFTQyxjQUFjLFVBQy9Cc0IsaUJBQWlCLFNBQVEsU0FBU0MsR0FFeEMsR0FBcUMsUUFBbENBLEVBQUVVLE9BQU9DLFFBQVFDLGNBQ3BCLENBQ0ksTUFBTUosRUFBWVIsRUFBRVUsT0FBT0ssV0FBV0YsWUFDckJsRCxFQUFLMEQsU0FBU2IsR0FDL0IsTUFBTTVCLEVBQWNWLEVBQ2RnRCxFQUFRdEMsRUFBWWhDLE1BQU11RSxRQUFRdkMsR0FDeENBLEVBQVloQyxNQUFNd0UsT0FBT0YsRUFBTSxHQUMvQnZDLEVBQVlDLEdBQ1pULFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3RvZG9zLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2RvbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBwcm9qZWN0XG57XG4gICAgc3RhdGljIGFsbHByb2plY3RzID0gW107XG4gICAgY29uc3RydWN0b3IobmFtZSx0b2RvcylcbiAgICB7XG4gICAgICAgIHRoaXMubmFtZT1uYW1lO1xuICAgICAgICB0aGlzLnRvZG9zPXRvZG9zO1xuICAgICAgICBwcm9qZWN0LmFsbHByb2plY3RzLnB1c2godGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRQcm9qZWN0c0Zyb21Mb2NhbFN0b3JhZ2UoKVxuICAgIHtcbiAgICAgICAgcHJvamVjdC5hbGxwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpdGVtc1wiKSB8fCBcIltdXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZFByb2plY3QocHJvamVjdG5hbWUpXG4gICAge1xuICAgICAgICByZXR1cm4gcHJvamVjdC5hbGxwcm9qZWN0cy5maW5kKGVsZW1lbnQ9PmVsZW1lbnQubmFtZSA9PSBwcm9qZWN0bmFtZSk7XG4gICAgfVxuICAgIGdldE5hbWUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpXG4gICAge1xuICAgICAgICB0aGlzLm5hbWU9bmFtZTtcbiAgICB9XG5cbiAgICBnZXRUb2RvcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50b2RvcztcbiAgICB9XG4gICAgXG4gICAgYWRkVG9kbyh0b2RvKVxuICAgIHtcbiAgICAgICAgdGhpcy50b2Rvcy5wdXNoKHRvZG8pO1xuICAgIH1cbn1cblxuZXhwb3J0eyBwcm9qZWN0fSIsImltcG9ydCB7IHByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5jbGFzcyB0b2RvXG57ICAgc3RhdGljIEFsbHRvZG9zPVtdO1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKG5hbWUpXG4gICAge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5uYW1lPW5hbWU7XG4gICAgICAgIHRvZG8uQWxsdG9kb3MucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFRhc2tzRnJvbUxvY2FsU3RvcmFnZSgpXG4gICAge1xuICAgICAgICBpZiggcHJvamVjdC5hbGxwcm9qZWN0cy5sZW5ndGggIT0gMCAmJiBwcm9qZWN0LmFsbHByb2plY3RzICE9IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgICAgICBwcm9qZWN0LmFsbHByb2plY3RzLmZvckVhY2gocHJvID0+IHtcbiAgICAgICAgICAgICAgIGlmKHByby50b2Rvcy5sZW5ndGggIT0gMClcbiAgICAgICAgICAgICAgIHtwcm8udG9kb3MuZm9yRWFjaCh0b2Rvcz0+e1xuICAgICAgICAgICAgICAgIHRvZG8uQWxsdG9kb3MucHVzaCh0b2Rvcyk7XG5cbiAgICAgICAgICAgIH0pfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgfVxuICAgIHNldE5hbWUobmFtZSlcbiAgICB7XG4gICAgICAgIHRoaXMubmFtZT1uYW1lO1xuICAgIH1cbiAgICBnZXROYW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICAgIHN0YXRpYyBmaW5kdG9kbyh0b2RvbmFtZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0b2RvLkFsbHRvZG9zLmZpbmQoZWxlbWVudD0+ZWxlbWVudC5uYW1lID09IHRvZG9uYW1lKTtcbiAgICB9XG59XG5cbmV4cG9ydHt0b2RvfTsiLCJpbXBvcnQgeyB0b2RvIH0gZnJvbSBcIi4vdG9kb3NcIjtcbmltcG9ydCB7IHByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5sZXQgY3VycmVudF9wcm9qZWN0O1xuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdCgpXG57XG5sZXQgZGVmYXVsdF9wcm9qZWN0ID0gbmV3IHByb2plY3QoJ2RlZmF1bHQnLFtdKTtcbiBjdXJyZW50X3Byb2plY3QgPSBkZWZhdWx0X3Byb2plY3Q7XG59XG5mdW5jdGlvbiBpbnRlcmFjdFdpdGhEb20oKVxue1xuICAgIHByb2plY3QuZ2V0UHJvamVjdHNGcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgdG9kby5nZXRUYXNrc0Zyb21Mb2NhbFN0b3JhZ2UoKTtcbiAgICBpZihwcm9qZWN0LmFsbHByb2plY3RzLmxlbmd0aCA9PSAwKVxuICAgICB7XG4gICAgICAgICBjcmVhdGVEZWZhdWx0KCk7XG4gICAgIH1cbiAgICBlbHNlXG4gICAgY3VycmVudF9wcm9qZWN0ID0gcHJvamVjdC5hbGxwcm9qZWN0c1swXTtcbiAgICByZW5kZXJfcHJvamVjdHMoKTtcbiAgICByZW5kZXJfdGFzayhjdXJyZW50X3Byb2plY3QpO1xuICAgIGFkZExpc3RlbmVyc1RvRWxlbWVudHMoKTtcbn1cblxuZnVuY3Rpb24gYWRkTGlzdGVuZXJzVG9FbGVtZW50cygpXG57XG4gICAgYWRkTGlzdGVuZXJUb1Byb2plY3RDcmVhdGUoKTtcbiAgICBhZGRMaXN0ZW5lclRvQWRkVGFza3NEaXYoKTtcbiAgICBhZGRMaXN0ZW5lclRvQWRkVGFza3NBbmRDYW5jZWwoKTtcbiAgICBhZGRMaXN0ZW5lclRvUHJvamVjdEhlYWRlcnMoKTtcbiAgICBhZGRMaXN0ZW5lclRvUHJvamVjdERlbGV0ZSgpO1xuICAgIGFkZExpc3RlbmVyVG9UYXNrRGVsZXRlKCk7XG4gICAgXG59XG5mdW5jdGlvbiB1cGRhdGVMb2NhbFN0b3JhZ2UoKVxue1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIEpTT04uc3RyaW5naWZ5KHByb2plY3QuYWxscHJvamVjdHMpKTtcbn1cbmZ1bmN0aW9uIGFkZExpc3RlbmVyVG9UYXNrRGVsZXRlKClcbntcbiAgICBjb25zdCB0YXNrc19kaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcbiAgICB0YXNrc19kaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGUpXG4gICAge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ3NwYW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0YXNrX25hbWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLnRleHRDb250ZW50O1xuICAgICAgICAgICAgbGV0IHRvZG9fb2JqZWN0ID10b2RvLmZpbmR0b2RvKHRhc2tfbmFtZSk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0X29iaiA9IGN1cnJlbnRfcHJvamVjdDtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJvamVjdF9vYmoudG9kb3MuaW5kZXhPZihwcm9qZWN0X29iaik7XG4gICAgICAgICAgICBwcm9qZWN0X29iai50b2Rvcy5zcGxpY2UoaW5kZXgsMSk7XG4gICAgICAgICAgICByZW5kZXJfdGFzayhwcm9qZWN0X29iaik7IFxuICAgICAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIH1cbiAgICB9KVxufVxuZnVuY3Rpb24gYWRkTGlzdGVuZXJUb1Byb2plY3REZWxldGUoKVxue1xuICAgIGNvbnN0IHByb2plY3RkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucHJvamVjdCcpO1xuICAgIHByb2plY3RkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGUpXG4gICAge1xuICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2knKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0X25hbWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUudGV4dENvbnRlbnQudG9TdHJpbmcoKS50cmltKCk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdF9vYmogPSBwcm9qZWN0LmZpbmRQcm9qZWN0KHByb2plY3RfbmFtZSk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHByb2plY3QuYWxscHJvamVjdHMuaW5kZXhPZihwcm9qZWN0X29iaik7XG4gICAgICAgICAgICBpZihpbmRleCA9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3QuYWxscHJvamVjdHMuc3BsaWNlKGluZGV4LDEpO1xuICAgICAgICAgICAgaWYoY3VycmVudF9wcm9qZWN0ID09IHByb2plY3Rfb2JqKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfcHJvamVjdD1wcm9qZWN0LmFsbHByb2plY3RzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvamVjdF9vYmo9bnVsbDtcbiAgICAgICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xuICAgICAgICAgICAgcmVuZGVyX3Byb2plY3RzKCk7XG4gICAgICAgICAgICByZW5kZXJfdGFzayhjdXJyZW50X3Byb2plY3QpO1xuICAgICAgICB9XG4gICAgfSlcblxufVxuZnVuY3Rpb24gYWRkTGlzdGVuZXJUb1Byb2plY3RIZWFkZXJzKClcbntcbiAgICBjb25zdCBwcm9qZWN0ZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnByb2plY3QnKTtcbiAgICBwcm9qZWN0ZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyAsZnVuY3Rpb24oZSlcbiAgICB7XG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnbGknKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0bmFtZSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdF9vYmogPSBwcm9qZWN0LmZpbmRQcm9qZWN0KHByb2plY3RuYW1lKTtcbiAgICAgICAgICAgIGlmKHByb2plY3Rfb2JqICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50X3Byb2plY3Q9cHJvamVjdF9vYmo7XG4gICAgICAgICAgICAgICAgcmVuZGVyX3Rhc2socHJvamVjdF9vYmopXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pICAgXG59XG5mdW5jdGlvbiBhZGRMaXN0ZW5lclRvQWRkVGFza3NEaXYoKVxue1xuICAgIGNvbnN0IGFkZHRhc2tzYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrLWRpdi1idXR0b24nKTtcbiAgICBhZGR0YXNrc2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2stYnV0dG9ucycpLnN0eWxlWydkaXNwbGF5J109J2Jsb2NrJztcbiAgICAgICAgYWRkdGFza3NidXR0b24uc3R5bGVbJ2Rpc3BsYXknXT0nbm9uZSc7XG4gICAgfSlcbn1cbmZ1bmN0aW9uIGFkZExpc3RlbmVyVG9BZGRUYXNrc0FuZENhbmNlbCgpXG57XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGFkZFRhc2spXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYW5jZWxUYXNrKVxufVxuZnVuY3Rpb24gYWRkVGFzayhlKVxue1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0YXNrX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2staW5wdXQnKS52YWx1ZTtcbiAgICBpZiAodGFza19uYW1lID09ICcnIHx8IHRhc2tfbmFtZSA9PSBudWxsKVxuICAgIHJldHVybjtcbiAgICBjb25zdCBuZXdfdGFzayA9IG5ldyB0b2RvKHRhc2tfbmFtZSk7XG4gICAgY3VycmVudF9wcm9qZWN0LnRvZG9zLnB1c2gobmV3X3Rhc2spO1xuICAgIHJlbmRlcl90YXNrKGN1cnJlbnRfcHJvamVjdCk7XG4gICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrLWZvcm0nKS5yZXNldCgpO1xuICAgIGNhbmNlbFRhc2soKTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsVGFzaygpXG57XG4gICAgY29uc3QgYWRkdGFza3NidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2stZGl2LWJ1dHRvbicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWJ1dHRvbnMnKS5zdHlsZVsnZGlzcGxheSddPSdub25lJztcbiAgICBhZGR0YXNrc2J1dHRvbi5zdHlsZVsnZGlzcGxheSddPSdibG9jayc7XG5cbn1cbmZ1bmN0aW9uIGFkZExpc3RlbmVyVG9Qcm9qZWN0Q3JlYXRlKClcbntcbiAgICBjb25zdCBhZGRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1wcm9qZWN0Jyk7XG4gICAgYWRkUHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZSlcbiAgICB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtcHJvamVjdC1pbnB1dCcpLnZhbHVlO1xuICAgICAgICBpZihuYW1lID09IG51bGwgfHwgbmFtZSA9PSAnJylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZihwcm9qZWN0LmZpbmRQcm9qZWN0KG5hbWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbGVydCgnY2hvb3NlIGRpZmZlcmVudCBuYW1lJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXByb2plY3QtZm9ybScpLnJlc2V0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdfcHJvamVjdCA9IG5ldyBwcm9qZWN0KG5hbWUsW10pO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgcmVuZGVyX3Byb2plY3RzKCk7XG4gICAgICAgIGN1cnJlbnRfcHJvamVjdD1uZXdfcHJvamVjdDtcbiAgICAgICAgcmVuZGVyX3Rhc2sobmV3X3Byb2plY3QpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXByb2plY3QtZm9ybScpLnJlc2V0KCk7XG4gICAgfSlcbn1cbmZ1bmN0aW9uIHJlbmRlcl90YXNrKHByb2plY3Rfb2JqKVxue1xuICAgIGNvbnN0IHRhc2tzX2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xuICAgIHRhc2tzX2Rpdi5pbm5lckhUTUw9YDxoMj4ke3Byb2plY3Rfb2JqLm5hbWV9PC9oMj5gXG4gICAgcHJvamVjdF9vYmoudG9kb3MuZm9yRWFjaCgodG9kbyk9PntcbiAgICAgICAgYWRkdG9kb1RvRG9tKHRvZG8sdGFza3NfZGl2KVxuICAgIH0pXG59ICBcbmZ1bmN0aW9uIGFkZHRvZG9Ub0RvbSh0b2RvLHBhcmVudGRpdilcbntcbiAgICBjb25zdCB0YXNrX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhc2tfZGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcbiAgICB0YXNrX2Rpdi5pbm5lckhUTUw9YDxzcGFuIGNsYXNzPVwiY3VzdG9tLWNoZWNrXCI+PC9zcGFuPjxwIGNsYXNzPVwidGFza25hbWVcIj4ke3RvZG8ubmFtZX08L3A+PC9kaXY+YFxuICAgIHBhcmVudGRpdi5hcHBlbmRDaGlsZCh0YXNrX2Rpdik7XG59XG5mdW5jdGlvbiByZW5kZXJfcHJvamVjdHMoKVxue1xuICAgIGNvbnN0IHByb2plY3RkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucHJvamVjdCcpO1xuICAgIHByb2plY3RkaXYuaW5uZXJIVE1MPVwiPGxpPjxoMj5Qcm9qZWN0czwvaDI+PC9saT5cIjtcbiAgICBwcm9qZWN0LmFsbHByb2plY3RzLmZvckVhY2gocHJvamVjdD0+e1xuICAgIFxuICAgICAgICBhZGRQcm9qZWN0VG9Eb20ocHJvamVjdCk7XG4gICAgICAgXG4gICB9KVxufVxuZnVuY3Rpb24gYWRkUHJvamVjdFRvRG9tKG5ld3Byb2plY3QpXG57XG4gICAgY29uc3QgcHJvamVjdGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5wcm9qZWN0Jyk7XG4gICAgY29uc3QgbmV3X2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5ld19kaXYuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1oZWFkZXItZGl2Jyk7XG4gICAgbmV3X2Rpdi5pbm5lckhUTUw9YDxsaSBjbGFzcz1cInByb2plY3QtaGVhZGVyXCI+JHtuZXdwcm9qZWN0Lm5hbWV9PC9saT5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWRlbGV0ZS1wcm9qZWN0XCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT48L2J1dHRvbj5gO1xuICAgIHByb2plY3RkaXYuYXBwZW5kQ2hpbGQobmV3X2Rpdik7XG59XG5cbmV4cG9ydCB7aW50ZXJhY3RXaXRoRG9tfSJdLCJuYW1lcyI6WyJwcm9qZWN0Iiwic3RhdGljIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidG9kb3MiLCJ0aGlzIiwiYWxscHJvamVjdHMiLCJwdXNoIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInByb2plY3RuYW1lIiwiZmluZCIsImVsZW1lbnQiLCJnZXROYW1lIiwic2V0TmFtZSIsImdldFRvZG9zIiwiYWRkVG9kbyIsInRvZG8iLCJBbGx0b2RvcyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZvckVhY2giLCJwcm8iLCJ0b2RvbmFtZSIsImN1cnJlbnRfcHJvamVjdCIsInVwZGF0ZUxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjYW5jZWxUYXNrIiwiYWRkdGFza3NidXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsInJlbmRlcl90YXNrIiwicHJvamVjdF9vYmoiLCJ0YXNrc19kaXYiLCJpbm5lckhUTUwiLCJwYXJlbnRkaXYiLCJ0YXNrX2RpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImFkZHRvZG9Ub0RvbSIsInJlbmRlcl9wcm9qZWN0cyIsIm5ld3Byb2plY3QiLCJwcm9qZWN0ZGl2IiwibmV3X2RpdiIsImFkZFByb2plY3RUb0RvbSIsImdldFByb2plY3RzRnJvbUxvY2FsU3RvcmFnZSIsImdldFRhc2tzRnJvbUxvY2FsU3RvcmFnZSIsImRlZmF1bHRfcHJvamVjdCIsImNyZWF0ZURlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJmaW5kUHJvamVjdCIsImFsZXJ0IiwicmVzZXQiLCJuZXdfcHJvamVjdCIsImFkZExpc3RlbmVyVG9BZGRUYXNrc0RpdiIsInRhc2tfbmFtZSIsIm5ld190YXNrIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwidGV4dENvbnRlbnQiLCJwcm9qZWN0X25hbWUiLCJwYXJlbnROb2RlIiwidG9TdHJpbmciLCJ0cmltIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZmluZHRvZG8iXSwic291cmNlUm9vdCI6IiJ9